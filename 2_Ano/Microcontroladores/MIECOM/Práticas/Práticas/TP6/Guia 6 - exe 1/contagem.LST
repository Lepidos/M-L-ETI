A51 MACRO ASSEMBLER  CONTAGEM                                                             02/10/2014 19:19:43 PAGE     1


MACRO ASSEMBLER A51 V8.02b
NO OBJECT MODULE REQUESTED
ASSEMBLER INVOKED BY: C:\Keil\C51\BIN\A51.EXE contagem.a51 NOMOD51 SET(SMALL) DEBUG EP

LOC  OBJ            LINE     SOURCE

                       1     ; Filipe Rodrigues nº 68455
                       2     ; Eduardo Silva nº 70216
                       3     
                       4     ;       INICIO DE PROGRAMA
                       5                     
                       6     ;#include <89C51IC2.inc> 
                +1     7  +1 $save     
*** __________________________________________^
*** ERROR #A1 IN 145 (C:\KEIL\C51\ASM\89C51IC2.INC, LINE 139): ILLEGAL CHARACTER IN NUMERIC CONSTANT
  008E          +1   200  +1 AUXR    DATA    08EH
*** _________________________^
*** ERROR #A10 IN 200 (C:\KEIL\C51\ASM\89C51IC2.INC, LINE 194): ATTEMPT TO DEFINE AN ALREADY DEFINED SYMBOL
  00A2          +1   207  +1 AUXR1   DATA    0A2H
*** _________________________^
*** ERROR #A10 IN 207 (C:\KEIL\C51\ASM\89C51IC2.INC, LINE 201): ATTEMPT TO DEFINE AN ALREADY DEFINED SYMBOL
                +1   208  +1 $restore 
                     209     
                     210             NAME MAIN
                     211             EXTRN   CODE    (ENVIAR_RS232, RECEBER_RS232, CONFIG_RS232)
                     212                     
----                 213             CSEG    AT      0000H
0000 802E            214             JMP             MAIN
----                 215             CSEG    AT      002BH
002B 8024            216             JMP             ISR
                     217             
----                 218             CSEG    AT              0030H                   
0030                 219     MAIN:
0030 75C901          220                     MOV     T2MOD,#01H      
0033 75C804          221                     MOV     T2CON,#04H      
0036 D2AD            222                     SETB    ET2
                     223                     ;SETB   TR2                     
0038 D2AF            224                     SETB    EA
003A 90006C          225                     MOV     DPTR,#MENSAGEM  
003D 7800            226                     MOV             R0,#00H
003F 7900            227                     MOV             R1,#00H
0041 7A00            228                     MOV             R2,#00H 
                     229                     ;MOV     R3,#00H
                     230                     
0043                 231     TIMER:   
0043 75CC18          232                     MOV     TL2,#LOW(-1000)
0046 75CDFC          233                     MOV     TH2,#HIGH(-1000)
0049 75CA18          234                     MOV             RCAP2L,#LOW(-1000)
004C 75CBFC          235                     MOV             RCAP2H,#HIGH(-1000)
004F 80FE            236                     JMP             $
                     237     
0051                 238     ISR:    
0051 C2CF            239                     CLR     TF2                     ; limpar flag
0053 B2B7            240                     CPL     P3.7
0055 0A              241                     INC             R2
0056 BAFA12          242                     CJNE    R2,#250,RETORNAR
                     243                     
0059                 244     CONTAGEM:
0059 7A00            245                     MOV             R2,#00H         
005B E8              246                     MOV             A,R0                    
005C 93              247                     MOVC    A,@A+DPTR               
005D F590            248                     MOV             P1,A                    ; o display toma o valor desse conteudo
                     249                             ; verifica se passou o nº 9 (ciclo "if-else")
005F E8              250                     MOV             A,R0                    
A51 MACRO ASSEMBLER  CONTAGEM                                                             02/10/2014 19:19:43 PAGE     2

0060 B40F05          251                     CJNE    A,#0Fh,INCREMENTAR                              ; salta para "DEVOLVER", se A(=R0) for diferente de "Ah"(=10)
                     252                             ; proximo nº toma valor de "0"
0063 7800            253                     MOV             R0,#0h                                          ; R0 = "0h"
0065 7900            254                     MOV             R1,#0h                                          ; R1 = "0h"
0067 32              255                     RETI
0068                 256     INCREMENTAR:
0068 08              257                     INC             R0                                                      ; somar "1" a R0
0069 09              258                     INC             R1                                                      ; somar "1" a R1
006A 32              259                     RETI
006B                 260     RETORNAR:
006B 32              261                     RETI
006C                 262     MENSAGEM:
006C 0CCF5446        263                     DB      0Ch,0CFh,54h,46h,87h,26h,24h,4Fh,04h,07h,05H,04H,3CH,0CH,34H,35H                
0070 8726244F                
0074 04070504                
0078 3C0C3435                
                     264     
                     265     END
A51 MACRO ASSEMBLER  CONTAGEM                                                             02/10/2014 19:19:43 PAGE     3

SYMBOL TABLE LISTING
------ ----- -------


N A M E             T Y P E  V A L U E   ATTRIBUTES

AC . . . . . . . .  B ADDR   00D0H.6 A   
ACC. . . . . . . .  D ADDR   00E0H   A   
AUXR . . . . . . .  D ADDR   008EH   A   
AUXR1. . . . . . .  D ADDR   00A2H   A   
B. . . . . . . . .  D ADDR   00F0H   A   
BDRCON . . . . . .  D ADDR   009BH   A   
BRL. . . . . . . .  D ADDR   009AH   A   
CCAP0H . . . . . .  D ADDR   00FAH   A   
CCAP0L . . . . . .  D ADDR   00EAH   A   
CCAP1H . . . . . .  D ADDR   00FBH   A   
CCAP1L . . . . . .  D ADDR   00EBH   A   
CCAP2H . . . . . .  D ADDR   00FCH   A   
CCAP2L . . . . . .  D ADDR   00ECH   A   
CCAP3H . . . . . .  D ADDR   00FDH   A   
CCAP3L . . . . . .  D ADDR   00EDH   A   
CCAP4H . . . . . .  D ADDR   00FEH   A   
CCAP4L . . . . . .  D ADDR   00EEH   A   
CCAPM0 . . . . . .  D ADDR   00DAH   A   
CCAPM1 . . . . . .  D ADDR   00DBH   A   
CCAPM2 . . . . . .  D ADDR   00DCH   A   
CCAPM3 . . . . . .  D ADDR   00DDH   A   
CCAPM4 . . . . . .  D ADDR   00DEH   A   
CCF0 . . . . . . .  D ADDR   00D8H   A   
CCF1 . . . . . . .  D ADDR   00D9H   A   
CCF2 . . . . . . .  D ADDR   00DAH   A   
CCF3 . . . . . . .  D ADDR   00DBH   A   
CCF4 . . . . . . .  D ADDR   00DCH   A   
CCON . . . . . . .  D ADDR   00D8H   A   
CF . . . . . . . .  D ADDR   00DFH   A   
CH . . . . . . . .  D ADDR   00F9H   A   
CKCON0 . . . . . .  D ADDR   008FH   A   
CKCON1 . . . . . .  D ADDR   00AFH   A   
CKRL . . . . . . .  D ADDR   0096H   A   
CKSEL. . . . . . .  D ADDR   0085H   A   
CL . . . . . . . .  D ADDR   00E9H   A   
CMOD . . . . . . .  D ADDR   00D9H   A   
CONFIG_RS232 . . .  C ADDR   -----       EXT
CONTAGEM . . . . .  C ADDR   0059H   A   
CP_RL2 . . . . . .  B ADDR   00C8H.0 A   
CR . . . . . . . .  D ADDR   00DEH   A   
CY . . . . . . . .  B ADDR   00D0H.7 A   
C_T2 . . . . . . .  B ADDR   00C8H.1 A   
DPH. . . . . . . .  D ADDR   0083H   A   
DPL. . . . . . . .  D ADDR   0082H   A   
EA . . . . . . . .  B ADDR   00A8H.7 A   
EC . . . . . . . .  B ADDR   00A8H.6 A   
ENVIAR_RS232 . . .  C ADDR   -----       EXT
ES . . . . . . . .  B ADDR   00A8H.4 A   
ET0. . . . . . . .  B ADDR   00A8H.1 A   
ET1. . . . . . . .  B ADDR   00A8H.3 A   
ET2. . . . . . . .  B ADDR   00A8H.5 A   
EX0. . . . . . . .  B ADDR   00A8H.0 A   
EX1. . . . . . . .  B ADDR   00A8H.2 A   
EXEN2. . . . . . .  B ADDR   00C8H.3 A   
EXF2 . . . . . . .  B ADDR   00C8H.6 A   
F0 . . . . . . . .  B ADDR   00D0H.5 A   
FCON . . . . . . .  D ADDR   00D1H   A   
IE0. . . . . . . .  B ADDR   0088H.1 A   
IE1. . . . . . . .  B ADDR   0088H.3 A   
IEN0 . . . . . . .  D ADDR   00A8H   A   
A51 MACRO ASSEMBLER  CONTAGEM                                                             02/10/2014 19:19:43 PAGE     4

IEN1 . . . . . . .  D ADDR   00B1H   A   
INCREMENTAR. . . .  C ADDR   0068H   A   
INT0 . . . . . . .  B ADDR   00B0H.2 A   
INT1 . . . . . . .  B ADDR   00B0H.3 A   
IPH0 . . . . . . .  D ADDR   00B7H   A   
IPH1 . . . . . . .  D ADDR   0000H   A   
IPL0 . . . . . . .  D ADDR   00B8H   A   
IPL1 . . . . . . .  D ADDR   00B2H   A   
ISR. . . . . . . .  C ADDR   0051H   A   
IT0. . . . . . . .  B ADDR   0088H.0 A   
IT1. . . . . . . .  B ADDR   0088H.2 A   
KBE. . . . . . . .  D ADDR   009DH   A   
KBF. . . . . . . .  D ADDR   009EH   A   
KBLS . . . . . . .  D ADDR   009CH   A   
MAIN . . . . . . .  C ADDR   0030H   A   
MENSAGEM . . . . .  C ADDR   006CH   A   
OSCCON . . . . . .  D ADDR   0086H   A   
OV . . . . . . . .  B ADDR   00D0H.2 A   
P. . . . . . . . .  B ADDR   00D0H.0 A   
P0 . . . . . . . .  D ADDR   0080H   A   
P1 . . . . . . . .  D ADDR   0090H   A   
P2 . . . . . . . .  D ADDR   00A0H   A   
P3 . . . . . . . .  D ADDR   00B0H   A   
PCON . . . . . . .  D ADDR   0087H   A   
PI2. . . . . . . .  D ADDR   00C0H   A   
PI2_1. . . . . . .  B ADDR   00C0H.1 A   
PI2_O. . . . . . .  B ADDR   00C0H.0 A   
PPCL . . . . . . .  B ADDR   00B8H.6 A   
PSL. . . . . . . .  B ADDR   00B8H.4 A   
PSW. . . . . . . .  D ADDR   00D0H   A   
PT0L . . . . . . .  B ADDR   00B8H.1 A   
PT1L . . . . . . .  B ADDR   00B8H.3 A   
PT2L . . . . . . .  B ADDR   00B8H.5 A   
PX0L . . . . . . .  B ADDR   00B8H.0 A   
PX1L . . . . . . .  B ADDR   00B8H.2 A   
RB8. . . . . . . .  B ADDR   0098H.2 A   
RCAP2H . . . . . .  D ADDR   00CBH   A   
RCAP2L . . . . . .  D ADDR   00CAH   A   
RCLK . . . . . . .  B ADDR   00C8H.5 A   
RD . . . . . . . .  B ADDR   00B0H.7 A   
RECEBER_RS232. . .  C ADDR   -----       EXT
REN. . . . . . . .  B ADDR   0098H.4 A   
RETORNAR . . . . .  C ADDR   006BH   A   
RI . . . . . . . .  B ADDR   0098H.0 A   
RS0. . . . . . . .  B ADDR   00D0H.3 A   
RS1. . . . . . . .  B ADDR   00D0H.4 A   
RXD. . . . . . . .  B ADDR   00B0H.0 A   
SADDR. . . . . . .  D ADDR   00A9H   A   
SADEN. . . . . . .  D ADDR   00B9H   A   
SBUF . . . . . . .  D ADDR   0099H   A   
SCON . . . . . . .  D ADDR   0098H   A   
SM0. . . . . . . .  B ADDR   0098H.7 A   
SM1. . . . . . . .  B ADDR   0098H.6 A   
SM2. . . . . . . .  B ADDR   0098H.5 A   
SP . . . . . . . .  D ADDR   0081H   A   
SPCON. . . . . . .  D ADDR   00C3H   A   
SPDAT. . . . . . .  D ADDR   00C5H   A   
SPSTA. . . . . . .  D ADDR   00C4H   A   
SSADR. . . . . . .  D ADDR   0096H   A   
SSCON. . . . . . .  D ADDR   0093H   A   
SSCS . . . . . . .  D ADDR   0094H   A   
SSDAT. . . . . . .  D ADDR   0095H   A   
T0 . . . . . . . .  B ADDR   00B0H.4 A   
T1 . . . . . . . .  B ADDR   00B0H.5 A   
T2CON. . . . . . .  D ADDR   00C8H   A   
T2MOD. . . . . . .  D ADDR   00C9H   A   
A51 MACRO ASSEMBLER  CONTAGEM                                                             02/10/2014 19:19:43 PAGE     5

TB8. . . . . . . .  B ADDR   0098H.3 A   
TCLK . . . . . . .  B ADDR   00C8H.4 A   
TCON . . . . . . .  D ADDR   0088H   A   
TF0. . . . . . . .  B ADDR   0088H.5 A   
TF1. . . . . . . .  B ADDR   0088H.7 A   
TF2. . . . . . . .  B ADDR   00C8H.7 A   
TH0. . . . . . . .  D ADDR   008CH   A   
TH1. . . . . . . .  D ADDR   008DH   A   
TH2. . . . . . . .  D ADDR   00CDH   A   
TI . . . . . . . .  B ADDR   0098H.1 A   
TIMER. . . . . . .  C ADDR   0043H   A   
TL0. . . . . . . .  D ADDR   008AH   A   
TL1. . . . . . . .  D ADDR   008BH   A   
TL2. . . . . . . .  D ADDR   00CCH   A   
TMOD . . . . . . .  D ADDR   0089H   A   
TR0. . . . . . . .  B ADDR   0088H.4 A   
TR1. . . . . . . .  B ADDR   0088H.6 A   
TR2. . . . . . . .  B ADDR   00C8H.2 A   
TXD. . . . . . . .  B ADDR   00B0H.1 A   
WDTPRG . . . . . .  D ADDR   00A7H   A   
WDTRST . . . . . .  D ADDR   00A6H   A   
WR . . . . . . . .  B ADDR   00B0H.6 A   


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 3 ERROR(S)
